import{r as h,C as S,v as s,z as t,M as b,P as p,J as d,N as r,$ as N,I as c,q as o,O as n,Q as f}from"./group-user-BfSpxGtK.js";import{$ as m}from"./dataTables-BCHyW2U5.js";import"./index-D0mxrVmJ.js";const w={class:"row"},F={class:"col-md-12"},T={class:"card"},B=t("div",{class:"card-header"},[t("div",{class:"row"},[t("div",{class:"col"},[t("strong",null,"Searched Sites")]),t("div",{class:"col text-end"})])],-1),$={class:"card-body"},A={class:"table table-striped",id:"site_table"},L=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Site Name"),t("th",null,"Geography(Lng, Lat)"),t("th",null,"Fuel Tank Area (m²)"),t("th",null,"Status"),t("th",null,"Actions")])],-1),R={key:0},V=t("td",{colspan:"7",class:"text-center"},"No sites available",-1),D=[V],E=["href"],q={key:0,class:"badge brand-primary-bg"},z={key:1,class:"badge bg-danger"},O=["href"],P=t("i",{class:"bi bi-eye"},null,-1),U=[P],G=["onClick"],I=t("i",{class:"bi bi-binoculars"},null,-1),J=[I],Q="http://localhost:3000/",Y={__name:"Sites",setup(X){const _=h([]),a=h(!1),v=h([]),g=async()=>{await N.get(`${Q}sites`).then(l=>{_.value=l.data}).catch(l=>{console.log(l)})},y=l=>{console.log(l),v.value=l,a.value=!0};return S(()=>{g().then(()=>{m(document).ready(function(){m("#site_table").DataTable({pagingType:"full_numbers",lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],language:{info:"Showing _START_ to _END_ of _TOTAL_ entries",infoEmpty:"Showing 0 to 0 of 0 entries",infoFiltered:"(filtered from _MAX_ total entries)",zeroRecords:"No matching records found",search:"Filter:",paginate:{first:"First",last:"Last",next:"Next",previous:"Previous"}}})})})}),(l,i)=>{const C=c("CModalBody"),k=c("CButton"),x=c("CModalFooter"),M=c("CModal");return o(),s(b,null,[t("div",w,[t("div",F,[t("div",T,[B,t("div",$,[t("table",A,[L,t("tbody",null,[_.value.length===0?(o(),s("tr",R,D)):(o(!0),s(b,{key:1},p(_.value,(e,u)=>(o(),s("tr",{key:e.id},[t("td",null,n(u+1),1),t("td",null,[t("a",{href:`/pages/site-details/${e.site_id}`,class:"text-decoration-none"},n(e.area_name),9,E)]),t("td",null,n(e.coordinates),1),t("td",null,n(e.fuel_tank_area_square_meters.toFixed(2)),1),t("td",null,[e.is_suitable?(o(),s("div",q,"Suitable")):(o(),s("div",z,"Not Suitable"))]),t("td",null,[t("a",{href:`/pages/site-details/${e.site_id}`,class:"btn brand-btn-primary btn-sm"},U,8,O),f("   "),t("button",{title:"View Reasons",class:"btn btn-warning text-white btn-sm",onClick:j=>y(e.reasons)},J,8,G)])]))),128))])])])])])]),d(M,{visible:a.value,"onUpdate:visible":i[1]||(i[1]=e=>a.value=e),title:"Reasons"},{default:r(()=>[d(C,null,{default:r(()=>[t("ul",null,[(o(!0),s(b,null,p(v.value,(e,u)=>(o(),s("li",{key:u},n(e),1))),128))])]),_:1}),d(x,null,{default:r(()=>[d(k,{color:"secondary",onClick:i[0]||(i[0]=e=>a.value=!1)},{default:r(()=>[f("Close")]),_:1})]),_:1})]),_:1},8,["visible"])],64)}}};export{Y as default};
