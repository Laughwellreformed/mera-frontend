import{q as p,v as m,a5 as R,r as _,R as U,z as e,J as t,N as s,M as I,I as r,_ as S,A as y,Z as v,L as g,O as D,a6 as N,a7 as M,a8 as V,a9 as F}from"./group-user-BfSpxGtK.js";import{_ as L,az as P,aA as $,aB as j}from"./index-D0mxrVmJ.js";const W={},z={class:"footer brand-primary-bg",style:{height:"300px","background-color":"#324f37 !important"}},G=R('<div class="container-fluid px-5"><div class="row"><div class="col-md-4"><h3 class="text-white">About Us</h3><p class="mt-3 text-white justify"> Malawi Energy Regulatory Authority (MERA) is a corporate body established under the Energy Regulatory Act No. 20 of 2004 as the Energy Sector Wide Regulator. Our mandate is to regulate the energy sector in Malawi in a fair, transparent, efficient and cost effective manner for the benefit of the consumers and operators. </p></div></div></div>',1),H=[G];function O(w,d){return p(),m("footer",z,H)}const q=L(W,[["render",O]]),J={class:"wrapper min-vh-100 d-flex flex-row align-items-center"},T=e("div",{class:"text-center mb-5 mt-2"},[e("img",{src:$,alt:"logo",style:{width:"150px"}})],-1),Z=e("h1",null,"Login",-1),K=e("p",{class:"text-body-secondary"},"Sign In to your account",-1),Q={class:"mb-3"},X=e("label",{for:"exampleInputEmail1",class:"form-label"},"Email address",-1),Y={class:"input-group"},ee=e("span",{class:"input-group-text"},"@",-1),te=e("div",{id:"emailHelp",class:"form-text"},"We'll never share your email with anyone else.",-1),se={class:"mb-3"},oe=e("label",{for:"exampleInputPassword1",class:"form-label"},"Password",-1),ae={class:"input-group"},ne=e("span",{class:"input-group-text"},"ðŸ”’",-1),re=e("div",{class:"mb-3 form-check"},[e("input",{type:"checkbox",class:"form-check-input",id:"exampleCheck1"}),e("label",{class:"form-check-label",for:"exampleCheck1"},"Remember me")],-1),le=["disabled"],ce={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ie={key:1},de={class:"text-danger"},ue={class:"d-flex justify-content-between mt-3"},_e=e("i",{class:"bi bi-google",style:{color:"white"}},null,-1),pe=e("span",{style:{color:"white"}},"oogle",-1),me=e("i",{class:"bi bi-facebook",style:{color:"white"}},null,-1),he=e("span",{style:{color:"white"}}," Facebook",-1),be=e("i",{class:"bi bi-twitter-x"},null,-1),fe=e("div",null,[e("h2",null,"Sign up"),e("p",null," If you haven't created your account yet, please register! "),e("a",{class:"btn btn-outline-light",href:"/register"},"Register Now")],-1),ge={__name:"Login",setup(w){const d=_(""),h=_(""),n=_(""),u=_(!1),C=U(),f=P(),x=async()=>{N(C,d.value,h.value).then(async c=>{const o=c.user,a=await M(V(F,"users",o.uid));if(a.exists()){const l=a.data();f.setUser(o),f.setRole(l.role),l.role==="admin"?j.push("/dashboard").catch(i=>{if(i.name!=="NavigationDuplicated")throw i}):alert(l.role)}else n.value="User data not found"}).catch(c=>{const o=c.code,a=c.message;switch(o){case"auth/invalid-credential":n.value="Username of password incorrect";break;case"auth/wrong-password":n.value="Username or password incorrect";break;case"auth/invalid-email":n.value="Username or password incorrect";break;case"auth/invalid-credential)":n.value="Username or password incorrect";break;default:n.value=a}}).finally(()=>{u.value=!1})};return(c,o)=>{const a=r("CButton"),l=r("CCardBody"),i=r("CCard"),k=r("CCardGroup"),B=r("CCol"),E=r("CRow"),A=r("CContainer");return p(),m(I,null,[e("div",J,[t(A,null,{default:s(()=>[t(E,{class:"justify-content-center"},{default:s(()=>[t(B,{md:8},{default:s(()=>[T,t(k,null,{default:s(()=>[t(i,{class:"p-4"},{default:s(()=>[t(l,null,{default:s(()=>[e("form",{onSubmit:S(x,["prevent"])},[Z,K,e("div",Q,[X,e("div",Y,[ee,y(e("input",{type:"email",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=b=>d.value=b),id:"exampleInputEmail1","aria-describedby":"emailHelp"},null,512),[[v,d.value]])]),te]),e("div",se,[oe,e("div",ae,[ne,y(e("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=b=>h.value=b),class:"form-control",id:"exampleInputPassword1"},null,512),[[v,h.value]])])]),re,e("button",{type:"submit",class:"btn btn-brand-primary btn-sm",disabled:u.value,style:{"background-color":"#E7B22B","border-color":"#E7B22B"}},[u.value?(p(),m("span",ce,"Loading ...")):g("",!0),u.value?g("",!0):(p(),m("span",ie,"Submit"))],8,le),e("p",de,D(n.value),1),e("div",ue,[t(a,{color:"primary",variant:"outline",class:"btn btn-primary",style:{"background-color":"#DB4437","border-color":"#DB4437"}},{default:s(()=>[_e,pe]),_:1}),t(a,{color:"primary",variant:"outline",class:"btn btn-primary",style:{"background-color":"#3B5998","border-color":"#3B5998"}},{default:s(()=>[me,he]),_:1}),t(a,{color:"white",variant:"outline",class:"btn btn-secondary",style:{"background-color":"#00ACEE","border-color":"#00ACEE"}},{default:s(()=>[be]),_:1})])],32)]),_:1})]),_:1}),t(i,{class:"text-white py-5",style:{width:"44%","background-color":"#16AF47"}},{default:s(()=>[t(l,{class:"text-center"},{default:s(()=>[fe]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),t(q)],64)}}};export{ge as default};
